# === Datasource (MySQL 8 Local) ===
spring.datasource.url=jdbc:mysql://localhost:3306/restaurant?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=${LOCAL_DB_USER}
spring.datasource.password=${LOCAL_DB_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.cloud.gcp.sql.enabled=false
spring.cloud.gcp.parametermanager.enabled=false
spring.cloud.gcp.secretmanager.enabled=false
spring.autoconfigure.exclude=\
com.google.cloud.spring.autoconfigure.parametermanager.GcpParameterManagerAutoConfiguration

# === Logs Detallados para Desarrollo ===
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.orm.jdbc.bind=TRACE
logging.level.com.ronaldure.restaurantmarketplace=DEBUG
logging.level.org.springframework.web=INFO

# === Errores Detallados para Desarrollo ===
server.error.include-message=always
server.error.include-binding-errors=always

# === Redirecciones de Pago para localhost ===
payments.redirect.success=http://localhost:5173/payment/success
payments.redirect.cancel=http://localhost:5173/payment/cancelled

# --- Propiedades de Email para desarrollo (si es necesario) ---
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# CORS para localhost
security.cors.allowed-origins=http://localhost:5173
security.cors.allowed-methods=GET,POST,PUT,PATCH,DELETE,OPTIONS
security.cors.allowed-headers=*
security.cors.allow-credentials=true
security.cors.max-age=3600


spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.auto-commit=false
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

spring.config.import=optional:file:config/application-dev.secrets.properties

# Twilio/WhatsApp en modo sandbox (dev)
twilio.sandbox.enabled=true
notifications.whatsapp.sandbox-recipient=${TWILIO_WHATSAPP_TEST_RECIPIENT}