# === App & Server (Común a todos los entornos) ===
spring.application.name=restaurant-marketplace
server.port=${PORT:8080}
server.forward-headers-strategy=framework

# === Perfil Activo por Defecto (para desarrollo local) ===
spring.profiles.active=dev

# === JPA / Hibernate (Común) ===
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.highlight_sql=true
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# === JSON / Jackson (Común) ===
spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS=false

# === Flyway (Común) ===
spring.flyway.enabled=true
spring.flyway.validate-on-migrate=true
spring.flyway.clean-disabled=true

# === Actuator (Común) ===
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always
management.endpoint.health.probes.enabled=true
management.health.livenessstate.enabled=true
management.health.readinessstate.enabled=true

# === Springdoc OpenAPI / Swagger UI (Común) ===
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# === Scheduling (Común) ===
jobs.scheduling.enabled=true
jobs.refresh-token-cleanup.enabled=true
jobs.refresh-token-cleanup.retention-days=60
jobs.refresh-token-cleanup.batch-size=5000
jobs.refresh-token-cleanup.cron=0 30 3 * * *

# === SQL init desactivado (usamos Flyway) ===
spring.sql.init.mode=never

# === SECRETOS: Usamos variables de entorno (sin valores por defecto) ===
# JWT
jwt.secret=${JWT_SECRET}
jwt.issuer=${JWT_ISSUER}
jwt.audience=${JWT_AUDIENCE}
jwt.clockSkewSeconds=${JWT_CLOCK_SKEW_SECONDS}
jwt.accessTokenTtlSeconds=900
refresh.jwt.secret=${REFRESH_JWT_SECRET}
refresh.jwt.issuer=${REFRESH_JWT_ISSUER}
refresh.jwt.audience=${REFRESH_JWT_AUDIENCE}
refresh.jwt.ttlDays=15

# PayPal
paypal.sandbox.clientId=${PAYPAL_CLIENT_ID}
paypal.sandbox.clientSecret=${PAYPAL_CLIENT_SECRET}

# Gmail SMTP
spring.mail.username=${GMAIL_USERNAME}
spring.mail.password=${GMAIL_PASSWORD}

# Twilio
twilio.account-sid=${TWILIO_ACCOUNT_SID}
twilio.auth-token=${TWILIO_AUTH_TOKEN}
twilio.sandbox-number=${TWILIO_SANDBOX_NUMBER}
twilio.sms-number=${TWILIO_SMS_NUMBER}
